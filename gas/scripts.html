<!-- Load the jQuery and jQuery UI libraries. -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>


<script>

// When the page loads.
$(function() {
  initNavBar();
     
  $('#frmSettings').submit(function(e) { saveSettings(); return false });
  $('#btnRunNow').bind('click', runNow);
  $('#btnShowLog').bind('click', showLog);
  $('#btnShowMain').bind('click', showMain);
  $('#navBarItmOverview').bind('click', showMain);
  $('#navBarItmManage').bind('click', showManage);
  $('#navBarItmSettings').bind('click', showSettings);
  $('.linkExample').bind('click', createExampleList);
  $('#noTaskListsPanel').hide();
    
  $('#tasklist').bind('change', loadTasks);
    
  installTriggers();
  loadSettings();
    
  showMain();

});

function initNavBar(){

  hideAllSections();
  $('#navBarItmOverview').css("background","url(https://sites.google.com/site/recgtasks/images/navbar-main.png)");
  $('#navBarItmManage').css("background","url(https://sites.google.com/site/recgtasks/images/navbar-manage.png)");
  $('#navBarItmSettings').css("background","url(https://sites.google.com/site/recgtasks/images/navbar-settings.png)");

}

 
function hideAllSections(){
  $('.section').hide();
  $('.navBarItemSelected').addClass("navBarItem");
  $('.navBarItem').removeClass("navBarItemSelected");
}


function showMain() {
  hideAllSections();
  $('#navBarItmOverview').addClass("navBarItemSelected");
  $('#navBarItmOverview').removeClass("navBarItem");
  $('#sectionMain').show();
  getRuntimeDetails()
}


function showSettings() {
  hideAllSections();
  $('#sectionSettings').show();
  $('#navBarItmSettings').addClass("navBarItemSelected");
  $('#navBarItmSettings').removeClass("navBarItem");
  
  loadTaskLists(showTaskLists_Settings);
  
}

function showManage() {
  hideAllSections();
  $('#sectionManage').show();
  $('#navBarItmManage').addClass("navBarItemSelected");
  $('#navBarItmManage').removeClass("navBarItem");
  
  loadTaskLists(showTaskLists_Manage);
  
}

function showErrorWindow(error, msg) {
    console.log(msg);
    console.log(error);
    window.alert('An error has occurred, please try again.\r'+msg);
  }

</script>
