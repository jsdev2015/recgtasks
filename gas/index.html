<!DOCTYPE html>

<!-- html, head & body tags added automatically - see https://developers.google.com/apps-script/guides/html/best-practices#dont_use_html_head_or_body_tags -->

<?!= HtmlService.createHtmlOutputFromFile('stylesheet').getContent(); ?>

<!-- ********** NAVIGATION BAR -->

<div class="app">

<div id="navBar" class="navBar">
  <div style="height:77px">
    <img src="https://sites.google.com/site/recgtasks/images/navbar-logo.png" alt="Logo">
  </div>
  
  <div class="navBarBlank" style="height:77px">
    <br/>
  </div>
  
  <div id="navBarItmOverview" class="navBarItem">
    <br/>
  </div>
  
  <div id="navBarItmManage" class="navBarItem" >
    <br/>
  </div>

  <div id="navBarItmSettings" class="navBarItem" >
    <br/>
  </div>

  <div class="navBarBlank">
    <br/>
  </div>

</div>

<div id="sections" class="sections">

<!-- ********** MAIN/OVERVIEW -->

<div id="sectionMain" class="section">
  <h1>Recurrent Tasks</h1>
  <h1 class="subtitle"> for Google Tasks&trade;</h1>
  <p>
    This application allows you to manage repeating tasks without any special additional service,
    purely by using <a href="https://mail.google.com/tasks/canvas" target="_blank">Google Tasks&trade;</a>.
  </p>

  <table>
    <tr>
      <td> <img src="https://sites.google.com/site/recgtasks/images/questionmark.png" alt="help"> </td>
      <td>  
        <h2>Finding help/info</h2>
        <p>
          If you need additional info, please, refer to <a href="https://github.com/jsdev2015/recgtasks/wiki" target="_blank"> our help pages</a>.
        </p>
      </td>
    </tr>
    <tr>
      <td> <img src="https://sites.google.com/site/recgtasks/images/mouseclick.png" alt="manual run"> </td>
      <td>
        <h2>Manual Run</h2>
        <p>
          Normal tasks are generated from recurrent tasks templates automatically every 60 minutes, 
          but you can start the process manually by clicking button below.
        </p>
  
      </td>
    <tr>
      <td/>
      <td>
        <button type="button" id="btnRunNow">Process recurrent tasks now</button> 
        <span id="btnRunNowStatus"> ... click button to run </span>
        <p/>
      </td>
    </tr>
    <tr>
      <td> <br/> </td>
      <td>
        <h2>Last Run</h2>
        <p/>
        <table>
          <tr>
            <td><b>Started at:</b></td> <td><span id="execStarted"> </span></td>
          </tr>
          <tr>
            <td><b>Finished at:</b></td> <td><span id="execFinished"> </span></td>
          </tr>
        </table>
        <p/>
        <button type="button" id="btnShowLog">Show Log</button>
      </td>
    </tr>
  </table>
</div>

<!-- ********** SHOW LOG FILE -->

<div id="sectionLogFile" class="section" >
  <h1>Recurrent Tasks</h1>
  <h1 class="subtitle"> for Google Tasks&trade;</h1>
  <h2>Execution Log</h2>
  <button type="button" id="btnShowMain">Back</button>
  <div id="logfile" class="log">
    .. empty page?
  </div>
</div>

<!-- ********** MANAGE TASKS -->

<div id="sectionManage" class="section">
  <h1>Recurrent Tasks</h1>
  <h1 class="subtitle"> for Google Tasks&trade;</h1>
  <h2>Manage Tasks</h2>
  <p> Select recurrent task list template (RTTL) and add/modify/remove recurrent task template.</p>

  <div style="padding-bottom:10pt">
    <label for="tasklist">Select a task list: </label>
    <select id="tasklist">
      <option>Loading...</option>
    </select>
  </div>

  <div class="taskTableHeader"> <h2>Tasks</h2></div>
  <table id="tasks" width="100%">
    <tr><td> Loading... </td></tr>
  </table>

</div>

<!-- ********** SETTINGS -->

<div id="sectionSettings" class="section">
  <h1>Recurrent Tasks</h1>
  <h1 class="subtitle"> for Google Tasks&trade;</h1>
  <h2>Settings</h2>
  <p> Configure application settings.</p>

  <form name="settings" id="frmSettings" >
    <table>
      <tr>
        <td> <label for="rttl-prefix">RTTL Name Prefix:</label></td>
        <td> <input type="text" name="rttl-prefix" id="rttl-prefix" /></td>
      </tr>
      <tr>
        <td> <label for="dest-tasklist">Destination Task List:</label></td>
        <td> <input type="text" name="dest-tasklist" id="dest-tasklist" /></td>
      </tr>
      <tr>
        <td> <label for="log-level">Log Verbosity Level:</label></td>
        <td> <input type="text" name="log-level" id="log-level" /></td>
      </tr>    
      <tr>
        <td> <input type="submit" name="save" id="btnSaveSettings" value="Save Settings" /></td>
        <td id="frmSaveStatus"></td>
      </tr>
    </table>
  </form>
</div>

</div> 
<!-- ********** END OF SECTIONS -->

</div>
<!-- ********** END OF APP -->


<?!= HtmlService.createHtmlOutputFromFile('scripts').getContent(); ?>
<?!= HtmlService.createHtmlOutputFromFile('scripts-main').getContent(); ?>
<?!= HtmlService.createHtmlOutputFromFile('scripts-manage').getContent(); ?>
<?!= HtmlService.createHtmlOutputFromFile('scripts-settings').getContent(); ?>

